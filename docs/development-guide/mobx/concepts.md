---
title: mobx介绍-概念与原则
nav:
  title: basic-knowledge
  path: /basic-knowledge
---

## 概念

### 1. State(状态)

**状态**是驱动应用的数据。 通常有像待办事项列表这样的**领域特定状态**，还有像当前已选元素的**视图状态**。

### 2. Derivations(衍生)

**任何**源自**状态**并且不会再有任何进一步的相互作用的东西就是衍生。衍生以多种形式存在:

- **用户界面**
- **衍生数据**，比如剩下的待办事项的数量。
- **后端集成**，比如把变化发送到服务器端。

`MobX`区分了两种类型的衍生:

- **Computed values(计算值)** - 它们是永远可以使用纯函数(pure function)从当前可观察状态中衍生出的值。
- **Reactions(反应)** - `Reactions`是当状态改变时需要自动发生的副作用。需要有一个桥梁来连接命令式编程(imperative programming)和响应式编程(reactive programming)。或者说得更明确一些，它们最终都需要实现I / O 操作。

如果想**创建一个基于当前状态的值**时，请使用`computed`。

### 3. Actions(动作)

**动作**是任一一段可以改变状态的代码。用户事件、后端数据推送、预定事件等等。

## 原则

MobX 支持单向数据流，也就是**动作**改变**状态**，而状态的改变会更新所有受影响的**视图**。

当**状态**改变时，所有**衍生**都会进行**原子级的自动**更新。因此永远不可能观察到中间值。

所有**衍生**默认都是**同步**更新。这意味着**动作**在改变**状态**之后直接可以安全地检查计算值。

**计算值**是**延迟**更新的。任何不在使用状态的计算值将不会更新，直到需要它进行副作用（I / O）操作时。 如果视图不再使用，那么它会自动被垃圾回收。

所有的**计算值**都应该是纯净的。它们不应该用来改变**状态**。
